# 미들웨어
- 미들웨어는 라우팅 핸들러 (컨틀롤러의 메서드)가 실행되기 '이전에' 호출되는 함수
- 미들웨어는 요청객체와 응답 객체에 접근할 수 있다.
- express의 next()함수에도 미들웨어는 접근할수있다.
    - express의 미들웨어를 안써봐서 잘모르겠네..? -> 'next()를 호출해야 그다음 미들웨어를 호출한다.'

> Nest미들웨어는 express 미들웨어와 동일하다

미들웨어는
1. 어떤 코드든 실행할 수 있다.
2. 요청 객체나 응답 객체에 접근하고 조작할수있다. (미들웨어는 요청 객체나 응답객체에 접근할수있으니 조작할수있겠다.!)
3. 요청-사이클을 끝낼 수 있다. (미들웨어가 요청 -> 응답 에 대한 1 사이클을 끝낼수있다.?! 미들웨어가 있어서 요청 -> 응답이 끝났는지 알수있다로 이해된다. 맞나?)
4. 스택 상의 다음 미들웨어를 호출할수있다. (`next()`로 다음 미들웨어를 호출할수 있다.)
5. 미들웨어가 요청 -> 응답 을 끝내지 않는다면 `next()` 함수를 호출해 다음 미들웨어를 호출해야한다. (미들웨어가 요청 -> 응답을 끝내지 않고 계속 무언가 하고있다면 네스트 어플리케이션은 다음 요청을 받을수 없기에 다음 미들웨어를 호출해서 계속 하던 무언가를 끝내야한다는 의미로 받아지네.)

## 커스텀 미들웨어
- 함수형, 클래스형으로 커스텀 미들웨어를 구현할 수 있다.
    - 함수형은 그냥 만들면된다.
    - 클래스형은 `@Injectable()` 데코레이터를 붙여야 하며 `NestMiddleware`인터페이스를 구현해야한다.
     